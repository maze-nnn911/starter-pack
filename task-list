<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
    <!--EXTERNAL LIBRARIES-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lateef:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <style>
        body{
            background-color: rgb(6, 50, 87);
            font-family: "Lateef", serif;
        }
       
        .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
        }

        .task:hover{
            box-shadow: 5px 8px 18px rgb(63, 58, 58) ;
            border-bottom: solid red 5px;
            border-right: solid red 5px;
        }
        
        .task{
            display: flex;
            background-color: white;
            padding-left: 10px;
            padding-right: 10px;
            margin-left: 10px;
            margin-right: 10px;
            border-bottom: solid black 5px;
            transition:  box-shadow 0.5s;
            transition: border 0.3s;
        }
        .done{
            background-color: rgb(158,253,160);
        }
        .tasks-table{
            background-color: rgb(156, 157, 170);
            width: 80%;
            margin-top: 150px;
        }
        button{
            border: none;
            font-size: 20px;
        }

        button.circular{
            width: 40px;
            height: 40px;
            border-radius: 50%;
            line-height: 0;
        }
        .circular:hover{
            border: 3px solid black;
        }
    </style>
</head>
<body>
    <div style="direction: rtl;">
        <!-- CENTRE DIV-->
        <div style="display: flex; justify-content: center; align-items: center;">
            
            <!-- TASKS TABLE-->
            <div class="tasks-table">
                
                <!-- HEADER-->
                <div style="width: 100%; text-align: center; color: white; padding-top: 8px; padding-bottom: 8px; background-color: blueviolet;">
                    <H1 style="display: inline;">My To-Do-List</H1>
                    <button id="add-btn" class="circular" style="float: right; margin-right: 10px;">
                    <span class="material-symbols-outlined">
                        add
                    </span>
                    </button>
                </div>
                <!-- // HEADER-->

            <!-- TASKS-->
            <div class="tasks" id="tasks" style="padding: 10px;">

                <!-- TASK-->
                <div class="task">

                    <!--TASKS INFO-->
                    <div style="width: 70%;">
                        <h2>قراءة كتاب</h2>

                        <div>
                            <span class="material-symbols-outlined">
                            calendar_month
                            </span>

                            <span>10/10/2025</span>

                        </div>
                    </div>
                    <!--//TASKS INFO-->

                    <!--TASKS ACTION-->
                    <div style="display: flex; justify-content: space-between; align-items: center; width: 30%; margin-left: 70px;">
                        <button class="circular" style="background-color: red;"> 
                            <span class="material-symbols-outlined">
                                delete
                            </span></button>
                        <button class="circular" style="background-color: rgb(32, 138, 32);">
                            <span class="material-symbols-outlined">
                            done_all
                            </span>
                        </button>
                        <button class="circular" style="background-color: rgb(65, 65, 246);">
                            <span class="material-symbols-outlined">
                            edit
                            </span>
                        </button>
                    </div>
                    <!--//TASKS ACTION-->

                </div>
                <!--// TASK-->


                <!-- TASK-->
                <div class="task">

                    <!--TASKS INFO-->
                    <div style="width: 70%;">
                        <h2>قراءة كتاب</h2>

                        <div>
                            <span class="material-symbols-outlined">
                            calendar_month
                            </span>
                            <span>10/10/2025</span>

                        </div>
                    </div>
                    <!--//TASKS INFO-->

                    <!--TASKS ACTION-->
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 30%; margin-left: 70px;">
                        <button class="circular" style="background-color: red;"> 
                            <span class="material-symbols-outlined">
                                delete
                            </span></button>
                        <button class="circular" style="background-color: rgb(32, 138, 32);">
                            <span class="material-symbols-outlined">
                            done_all
                            </span>
                        </button>
                        <button class="circular" style="background-color: rgb(65, 65, 246);">
                            <span class="material-symbols-outlined">
                            edit
                            </span>
                        </button>
                    </div>
                    <!--//TASKS ACTION-->

                </div>
                <!--// TASK-->


                <!-- TASK-->
                <div class="task">

                    <!--TASKS INFO-->
                    <div style="width: 70%;">
                        <h2>قراءة كتاب</h2>

                        <div>
                            <span class="material-symbols-outlined">
                            calendar_month
                            </span>
                            <span>10/10/2025</span>

                        </div>
                    </div>
                    <!--//TASKS INFO-->

                    <!--TASKS ACTION-->
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 30%; margin-left: 70px;">
                        <button class="circular" style="background-color: red;"> 
                            <span class="material-symbols-outlined">
                                delete
                            </span></button>
                        <button class="circular" style="background-color: rgb(32, 138, 32);">
                            <span class="material-symbols-outlined">
                                done_all
                            </span>
                        </button>
                        <button class="circular" style="background-color: rgb(65, 65, 246);">
                            <span class="material-symbols-outlined">
                                edit
                            </span>
                        </button>
                    </div>
                    <!--//TASKS ACTION-->

                </div>
                <!--// TASK-->


                <!-- TASK-->
                <div class="task">

                    <!--TASKS INFO-->
                    <div style="width: 70%;">
                        <h2>قراءة كتاب</h2>

                        <div>
                            <span class="material-symbols-outlined">
                            calendar_month
                            </span>
                            <span>10/10/2025</span>

                        </div>
                    </div>
                    <!--//TASKS INFO-->

                    <!--TASKS ACTION-->
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 30%; margin-left: 70px;">
                        <button class="circular" style="background-color: red;"> 
                            <span class="material-symbols-outlined">
                            delete
                            </span></button>
                        <button class="circular" style="background-color: rgb(32, 138, 32);">
                            <span class="material-symbols-outlined">
                            done_all
                            </span>
                        </button>
                        <button class="circular" style="background-color: rgb(65, 65, 246);">
                            <span class="material-symbols-outlined">
                            edit
                            </span>
                        </button>
                    </div>
                    <!--//TASKS ACTION-->

                </div>
                <!--// TASK-->

            </div>
            <!--// TASKS-->

            </div>
            <!-- //TASKS TABLE-->

        </div>
        <!-- //CENTRE DIV-->
    </div>
</body>

<script>


    let tasks = [
        /*tasks below can be removed not to apper in starting page by force (but do NOT remove the variable name)*/
              
           
    ]

    let retrievedTasks = JSON.parse(localStorage.getItem("tasks"))
    if(retrievedTasks == null){
        tasks = []
    }else{
        tasks=retrievedTasks
    }

    function FillTasksOnThePage(){

        document.getElementById("tasks").innerHTML=""
        
        let index=0
        
        for(task of tasks){

            let content = 
            `
                <!-- TASK-->
                    <div class="task ${task.isDone ? 'done' : ''}">

                        <!--TASKS INFO-->
                        <div style="width: 70%;">

                            <h2>${task.title}</h2>

                            <div>

                                <span class="material-symbols-outlined">
                                    calendar_month
                                </span>
                                <span>${task.date}</span>

                            </div>
                        </div>
                        <!--//TASKS INFO-->

                        <!--TASKS ACTION-->
                            <div style="display: flex; justify-content: space-between; align-items: center; width: 30%; margin-left: 70px;">

                            <button onclick="deletetask(${index})" class="circular" style="background-color: red;"> 
                                <span class="material-symbols-outlined">
                                    delete
                                </span>                                
                            </button>

                            ${task.isDone ? `
                            <button onclick = "taskcompletion(${index})" class="circular" style="background-color: rgb(116, 26, 195);">                                
                                <span class="material-symbols-outlined">
                                    cancel
                                </span>
                            </button>
                            `:`
                            <button onclick = "taskcompletion(${index})" class="circular" style="background-color: rgb(32, 138, 32);">                                
                                <span class="material-symbols-outlined">
                                    done
                                </span>
                            </button>
                            `}

                            <button onclick="edittask(${index})" class="circular" style="background-color: rgb(65, 65, 246);">
                                <span class="material-symbols-outlined">
                                    edit
                                </span>
                            </button>

                        </div>
                        <!--//TASKS ACTION-->

                    </div>
                    <!--// TASK-->    
            `
                document.getElementById("tasks").innerHTML += content
                index++
        }

    }

    FillTasksOnThePage()

    document.getElementById("add-btn").addEventListener("click",function(){

        let now = new Date()
        let date = now.getDate() + "/" + (now.getMonth()+1) + "/" + now.getFullYear() +"|" + now.getHours() +":" + now.getMinutes()
        let TaskName = prompt("Insert Task name Please")
        
        let TaskObj = {
            "title": TaskName ,
            "date": date,
            "isDone": false
        }

        tasks.push(TaskObj)

        storeTasks()
        FillTasksOnThePage()
    })

    function deletetask(index){
        let task = tasks[index]
        let isConfirmed= confirm(`Are you sure of Deleting `+ task.title)
        if(isConfirmed == true){
            tasks.splice(index,1)
            storeTasks()
            FillTasksOnThePage()
        }
    }
   
    function edittask(index){
        let task = tasks[index]
        let newTaskTitle = prompt("Insert your new Task name" , task.title )
        task.title = newTaskTitle
        storeTasks()
        FillTasksOnThePage()
    }

    function taskcompletion(index){
    let task = tasks[index]
    task.isDone =! task.isDone
    storeTasks()
    FillTasksOnThePage()
    }


//========Function storage
function storeTasks(){
    let tasksString = JSON.stringify(tasks)
    localStorage.setItem("tasks",tasksString)
}


</script>
</html>
